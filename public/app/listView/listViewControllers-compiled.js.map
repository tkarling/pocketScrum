{"version":3,"sources":["listViewControllers.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;IAEP,kBAAkB,GACT,SADT,kBAAkB,GACN;0BADZ,kBAAkB;CAEnB;;IAGC,qBAAqB;cAArB,qBAAqB;;AACZ,aADT,qBAAqB,CACX,CAAC,EAAE,YAAY,EAAE,cAAc,EAAE;;;8BAD3C,qBAAqB;;AAEnB,mCAFF,qBAAqB,6CAEX;AACR,YAAI,CAAC,IAAI,GAAG,kCAAkC,CAAC;;AAE/C,YAAI,CAAC,cAAc,GAAG,cAAc,CAAC;AACrC,YAAI,CAAC,YAAY,GAAG,YAAY,CAAC;AACjC,YAAI,CAAC,aAAa,EAAE,CAAC;AACrB,oBAAY,CAAC,WAAW,CAAC,YAAM;AAC3B,kBAAK,aAAa,EAAE,CAAC;SACxB,CAAC,CAAC;KACN;;iBAXC,qBAAqB;;eAaV,yBAAG;AACZ,gBAAI,gBAAgB,GAAG,SAAnB,gBAAgB,CAAY,IAAI,EAAE,EAAE,EAAE;AACtC,qBAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC1C,wBAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,EAAE;AAC5B,4BAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AACtC,4BAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;AAClC,+BAAO;qBACV;iBACJ;aACJ,CAAA;;AAED,gBAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;AAChD,gBAAG,IAAI,CAAC,eAAe,EAAE;AACrB,gCAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;aAChD;SACJ;;;eAEY,uBAAC,OAAO,EAAE,MAAM,EAAE;AAC3B,gBAAG,OAAO,CAAC,GAAG,KAAK,IAAI,CAAC,eAAe,EAAE;AACrC,oBAAI,CAAC,WAAW,EAAE,CAAC;aACtB;AACD,gBAAI,CAAC,cAAc,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC3C,gBAAG,KAAK,EAAC;AACL,qBAAK,CAAC,eAAe,EAAE,CAAC;AACxB,qBAAK,CAAC,cAAc,EAAE,CAAC;aAC1B;SAEJ;;;eAEU,uBAAG;AACV,gBAAG,IAAI,CAAC,aAAa,EAAE;AACnB,oBAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AACpD,oBAAI,CAAC,eAAe,GAAG,SAAS,CAAC;aACpC;SACJ;;;eAEe,0BAAC,OAAO,EAAE;;AAEtB,gBAAI,CAAC,WAAW,EAAE,CAAC;AACnB,gBAAG,CAAE,OAAO,CAAC,OAAO,EAAE;AAClB,uBAAO,CAAC,OAAO,GAAG,IAAI,CAAC;AACvB,oBAAI,CAAC,aAAa,GAAG,OAAO,CAAC;AAC7B,oBAAI,CAAC,eAAe,GAAG,OAAO,CAAC,GAAG,CAAC;aACtC;SACJ;;;WAzDC,qBAAqB;GAAS,kBAAkB;;AA4DtD,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,uBAAuB,EAAE,qBAAqB,CAAC,CAAC","file":"listViewControllers-compiled.js","sourcesContent":["\"use strict\";\n\nclass BaseListController {\n    constructor() {\n    }\n}\n\nclass FeatureListController extends BaseListController {\n    constructor(C, featureStore, featureActions) {\n        super();\n        this.test = \"Hello from FeatureListController\";\n\n        this.featureActions = featureActions;\n        this.featureStore = featureStore;\n        this.resetFeatures();\n        featureStore.addListener(() => {\n            this.resetFeatures();\n        });\n    }\n\n    resetFeatures() {\n        let setEditedFeature = function(self, id) {\n            for(var i = 0; i < self.features.length; i++) {\n                if(self.features[i]._id === id) {\n                    self.editedFeature = self.features[i];\n                    self.editedFeature.editing = true;\n                    return;\n                }\n            }\n        }\n\n        this.features = this.featureStore.getFeatures();\n        if(this.editedFeatureId) {\n            setEditedFeature(this, this.editedFeatureId);\n        }\n    }\n\n    removeFeature(feature, $event) {\n        if(feature._id !== this.editedFeatureId) {\n            this.stopEditing();\n        }\n        this.featureActions.removeFeature(feature);\n        if(event){\n            event.stopPropagation();\n            event.preventDefault();\n        }\n\n    }\n\n    stopEditing() {\n        if(this.editedFeature) {\n            this.featureActions.saveFeature(this.editedFeature);\n            this.editedFeatureId = undefined;\n        }\n    }\n\n    startStopEditing(feature) {\n        //console.log(feature.name, this.editedFeature? this.editedFeature.name: undefined);\n        this.stopEditing();\n        if(! feature.editing) {\n            feature.editing = true;\n            this.editedFeature = feature;\n            this.editedFeatureId = feature._id;\n        }\n    }\n}\n\nangular.module(\"myApp\").controller(\"FeatureListController\", FeatureListController);"]}