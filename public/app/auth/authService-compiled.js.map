{"version":3,"sources":["authService.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;IAEP,WAAW;AACF,aADT,WAAW,CACD,SAAS,EAAG,KAAK,EAAE,SAAS,EAAE,eAAe,EAAE,iBAAiB,EAAE;8BAD5E,WAAW;;AAET,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,YAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;;;;;;KAM9C;;;;;;;iBAXC,WAAW;;eAkBF,uBAAG;AACV,mBAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;AACvC,gBAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,gBAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;AAC7E,uBAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AAC9B,oBAAI,MAAM,CAAC,IAAI,EAAE;AACb,wBAAI,QAAQ,GAAG;AACX,0BAAE,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE;AAClB,gCAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ;AAC9B,mCAAW,EAAE,MAAM,CAAC,IAAI,CAAC,WAAW;qBACvC,CAAA;;AAED,wBAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;AAC7C,wBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;iBACzD;aACJ,EAAE,UAAU,GAAG,EAAE;AACd,uBAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC;aAC1C,CAAC,CAAC;SACN;;;WArCC,WAAW;;;AAyCjB,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC","file":"authService-compiled.js","sourcesContent":["\"use strict\";\n\nclass authService {\n    constructor(MY_SERVER,  $http, $location, teamMemberStore, teamMemberActions) {\n        this.MY_SERVER = MY_SERVER;\n        this.$http = $http;\n        this.$location = $location;\n        this.teamMemberActions = teamMemberActions;\n\n        //this.teamMemberStore = teamMemberStore;\n        //teamMemberStore.addListener(() => {\n        //    this.resetAuthUser();\n        //});\n    }\n\n    //resetAuthUser() {\n    //    this.myInfo = this.teamMemberStore.getAuthUserInfo();\n    //    console.log(\"resetAuthUser\", this.myInfo);\n    //}\n\n    getAuthInfo() {\n        console.log('authService getAuthInfo');\n        var self = this;\n        //console.log('authService timeout getAuthInfo');\n        self.$http.get(this.MY_SERVER.url + this.MY_SERVER.meUri).then(function (result) {\n            console.log(\"result\", result);\n            if (result.data) {\n                var authInfo = {\n                    id: result.data.id,\n                    provider: result.data.provider,\n                    displayName: result.data.displayName\n                }\n                //console.log(\"authInfo\", authInfo);\n                self.teamMemberActions.setAuthUser(authInfo);\n                self.$location.path(self.MY_SERVER.scrumBoardViewUri);\n            }\n        }, function (err) {\n            console.log(\"getAuthInfo failed\", err);\n        });\n    }\n\n}\n\nangular.module(\"myApp\").service(\"authService\", authService);\n"]}