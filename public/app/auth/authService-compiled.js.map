{"version":3,"sources":["authService.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;IAEP,WAAW;AACF,aADT,WAAW,CACD,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,eAAe,EAAE,iBAAiB,EAAE;8BADrF,WAAW;;AAET,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,YAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,YAAI,CAAC,eAAe,GAAG,eAAe,CAAC;AACvC,YAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;AAC3C,YAAI,CAAC,MAAM,GAAG,EAAC,YAAY,EAAE,EAAE,EAAC,CAAC;KACpC;;iBATC,WAAW;;eAWA,yBAAG;AACZ,gBAAI,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,eAAe,EAAE,CAAC;AACrD,mBAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;SAC7C;;;eAEU,uBAAG;AACV,mBAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;AACvC,gBAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,mBAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;AAC/C,gBAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;AAC7E,uBAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AAC9B,oBAAI,MAAM,CAAC,IAAI,EAAE;AACb,wBAAI,CAAC,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;AAChC,wBAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC5C,wBAAI,CAAC,MAAM,CAAC,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;AAClD,wBAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC;AAC/E,2BAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;AACxC,wBAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAChD,wBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;iBACzD;aACJ,EAAE,UAAU,GAAG,EAAE;AACd,oBAAI,CAAC,MAAM,CAAC,EAAE,GAAG,SAAS,CAAC;AAC3B,oBAAI,CAAC,MAAM,CAAC,WAAW,GAAG,SAAS,CAAC;AACpC,oBAAI,CAAC,MAAM,CAAC,YAAY,GAAG,SAAS,CAAC;AACrC,uBAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC;aAC1C,CAAC,CAAC;;SAEN;;;eAEQ,qBAAG;AACR,mBAAO,IAAI,CAAC,MAAM,CAAC;SACtB;;;WA3CC,WAAW;;;AA8CjB,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC","file":"authService-compiled.js","sourcesContent":["\"use strict\";\n\nclass authService {\n    constructor(MY_SERVER, $timeout, $http, $location, teamMemberStore, teamMemberActions) {\n        this.MY_SERVER = MY_SERVER;\n        this.$timeout = $timeout;\n        this.$http = $http;\n        this.$location = $location;\n        this.teamMemberStore = teamMemberStore;\n        this.teamMemberActions = teamMemberActions;\n        this.myInfo = {thumbnailUrl: \"\"};\n    }\n\n    resetAuthUser() {\n        this.myInfo = this.teamMemberStore.getAuthUserInfo();\n        console.log(\"resetAuthUser\", this.myInfo);\n    }\n\n    getUserInfo() {\n        console.log('authService getUserInfo');\n        var self = this;\n        //this.$timeout(function() {\n        console.log('authService timeout getUserInfo');\n        self.$http.get(this.MY_SERVER.url + this.MY_SERVER.meUri).then(function (result) {\n            console.log(\"result\", result);\n            if (result.data) {\n                self.myInfo.id = result.data.id;\n                self.myInfo.provider = result.data.provider;\n                self.myInfo.displayName = result.data.displayName;\n                self.myInfo.thumbnailUrl = self.MY_SERVER.url + self.MY_SERVER.thumbnailWIdUri;\n                console.log(\"this.myInfo\", self.myInfo);\n                self.teamMemberActions.setAuthUser(self.myInfo);\n                self.$location.path(self.MY_SERVER.scrumBoardViewUri);\n            }\n        }, function (err) {\n            self.myInfo.id = undefined;\n            self.myInfo.displayName = undefined;\n            self.myInfo.thumbnailUrl = undefined;\n            console.log(\"getUserInfo failed\", err);\n        });\n        //}, 500);\n    }\n\n    getMyInfo() {\n        return this.myInfo;\n    }\n}\n\nangular.module(\"myApp\").service(\"authService\", authService);\n"]}