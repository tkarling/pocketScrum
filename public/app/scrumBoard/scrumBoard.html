<style>
    .ps-tool-container {
        text-align: right;
        padding: 0px;
    }

    .ps-search-box {
        float: left;
        display: inline;
        width: calc(100% - 72px);
    }

    .ps-groups {
        width: 100%;
        display: flex;
        flex-direction: row;
        justify-content: left;
        flex-wrap: wrap;
    }

    .ps-groups h5 {
        margin: 2% 0px;
    }

    .ps-story-group {
        padding: 1%;
        border: 2px solid blue;
        display: inline-block;
        text-align: left;
    }

    .ps-group-item {
        display: flex;
        flex-direction: row;
        justify-content: left;
        flex-wrap: nowrap;
    }

    .ps-group-item span {
        padding-left: 2%;
    }

    .ps-avatar {
        width: 30px;
        height: 30px;
    }
</style>

<div class="mdl-grid ps-page-content">


    {{scrumBoard.errorMsg}}
    <div class="mdl-cell mdl-cell--12-col ps-tool-container">
        <input class="mdl-textfield__input" type="text" ng-model="scrumBoard.newStory.name"
               placeholder="new story name"/>
        <input class="mdl-textfield__input ps-search-box" type="text" ng-model="search" placeholder="search"/>
        <button ng-if="! scrumBoard.deleteVisible"
                class="mdl-button mdl-js-button mdl-button--icon mdl-button--fab mdl-button--colored"
                ng-click="scrumBoard.addStory()">
            <i class="material-icons">add</i>
        </button>
        <button class="mdl-button mdl-js-button mdl-button--icon mdl-button--fab mdl-button--colored"
                ng-click="scrumBoard.deleteVisible = ! scrumBoard.deleteVisible">
            <i class="material-icons">delete</i>
        </button>
    </div>

    <div class="ps-groups">
        <div class="mdl-cell mdl-cell--4-col mdl-cell--3-col-desktop ps-story-group"
             ng-repeat="status in scrumBoard.statuses">
            <h5>{{status}}</h5>
            <div class="ps-group-item"
                 ng-repeat="story in scrumBoard.stories | filter: search as results track by $id(story)"
                 ng-click="scrumBoard.editStory(story)">
                <button ng-if="scrumBoard.deleteVisible"
                        class="ps-small-delete-button mdl-button mdl-js-button mdl-button--icon mdl-button--accent"
                        ng-click="scrumBoard.removeStory(story, $event)">
                    <i class="material-icons">delete</i>
                </button>
                <img class="ps-avatar" ng-src="{{scrumBoard.thumbnailUrl}}55dd009fa2909451656e9114"/>
                <span>
                    <div>{{story.name}}</div>
                    <div>sprint-1</div>
                </span>
            </div>
        </div>
    </div>
</div>