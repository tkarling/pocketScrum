{"version":3,"sources":["dragDropDirectives.js"],"names":[],"mappings":"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","file":"dragDropDirectives-compiled.js","sourcesContent":["// inspired by http://codepen.io/parkji/pen/JtDro\n\nvar app = angular.module('dragDrop', []);\napp.directive('draggable', function () {\n    return {\n        scope: {\n            dragstartFn: '&',\n            dragCtrl: '=',\n            dragItem: '=',\n            dragIndex:  '@'\n        }\n        ,\n        link: function (scope, element) {\n            // this gives us the native JS object\n            var el = element[0];\n\n            el.draggable = true;\n\n            el.addEventListener(\n                'dragstart',\n                function (e) {\n                    scope.dragstartFn().call(scope.dragCtrl, scope.dragItem);\n                    e.dataTransfer.effectAllowed = 'move';\n                    e.dataTransfer.setData('Text', this.id);\n                    this.classList.add('drag');\n                    //console.log(\"added drag\");\n                    return false;\n                },\n                false\n            );\n\n            el.addEventListener(\n                'dragend',\n                function (e) {\n                    this.classList.remove('drag');\n                    //scope.dragstartFn().call(scope.dragCtrl, scope.dragItem);\n                    return false;\n                },\n                false\n            );\n        }\n    }\n});\n\napp.directive('droppable', function ($timeout) {\n    return {\n        scope: {\n            dropFn: '&',\n            dropCtrl: '=',\n            dropValue: '@'\n        },\n        link: function (scope, element) {\n            // again we need the native object\n            var el = element[0];\n\n            el.addEventListener(\n                'dragover',\n                function (e) {\n                    e.dataTransfer.dropEffect = 'move';\n                    // allows us to dropFn\n                    if (e.preventDefault) e.preventDefault();\n                    this.classList.add('over');\n                    //console.log(\"added over from dragover\");\n                    return false;\n                },\n                false\n            );\n\n            el.addEventListener(\n                'dragenter',\n                function (e) {\n                    this.classList.add('over');\n                    //console.log(\"added over from dragenter\");\n                    return false;\n                },\n                false\n            );\n\n            el.addEventListener(\n                'dragleave',\n                function (e) {\n                    this.classList.remove('over');\n                    //console.log(\"removed over from dragleave\");\n                    return false;\n                },\n                false\n            );\n\n            el.addEventListener(\n                'drop',\n                function (e) {\n                    // Stops some browsers from redirecting.\n                    if (e.stopPropagation) e.stopPropagation();\n\n                    this.classList.remove('over');\n                    scope.dropFn().call(scope.dropCtrl, scope.dropValue);\n\n                    return false;\n                },\n                false\n            );\n        }\n    }\n});\n\n\n"]}