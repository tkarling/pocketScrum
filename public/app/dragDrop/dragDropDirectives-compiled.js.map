{"version":3,"sources":["dragDropDirectives.js"],"names":[],"mappings":";;;;AAEA,IAAI,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;AACzC,GAAG,CAAC,SAAS,CAAC,WAAW,EAAE,YAAW;AAClC,WAAO,UAAS,KAAK,EAAE,OAAO,EAAE;;AAE5B,YAAI,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;;AAEpB,UAAE,CAAC,SAAS,GAAG,IAAI,CAAC;;AAEpB,UAAE,CAAC,gBAAgB,CACf,WAAW,EACX,UAAS,CAAC,EAAE;AACR,aAAC,CAAC,YAAY,CAAC,aAAa,GAAG,MAAM,CAAC;AACtC,aAAC,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;AACxC,gBAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;;AAE3B,mBAAO,KAAK,CAAC;SAChB,EACD,KAAK,CACR,CAAC;;AAEF,UAAE,CAAC,gBAAgB,CACf,SAAS,EACT,UAAS,CAAC,EAAE;AACR,gBAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;;AAE9B,mBAAO,KAAK,CAAC;SAChB,EACD,KAAK,CACR,CAAC;KACL,CAAA;CACJ,CAAC,CAAC;;AAEH,GAAG,CAAC,SAAS,CAAC,WAAW,EAAE,YAAW;AAClC,WAAO;AACH,aAAK,EAAE;AACH,gBAAI,EAAE,GAAG;AACT,eAAG,EAAE,GAAG;SACX;AACD,YAAI,EAAE,cAAS,KAAK,EAAE,OAAO,EAAE;;AAE3B,gBAAI,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;;AAEpB,cAAE,CAAC,gBAAgB,CACf,UAAU,EACV,UAAS,CAAC,EAAE;AACR,iBAAC,CAAC,YAAY,CAAC,UAAU,GAAG,MAAM,CAAC;;AAEnC,oBAAI,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC,cAAc,EAAE,CAAC;AACzC,oBAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;;AAE3B,uBAAO,KAAK,CAAC;aAChB,EACD,KAAK,CACR,CAAC;;AAEF,cAAE,CAAC,gBAAgB,CACf,WAAW,EACX,UAAS,CAAC,EAAE;AACR,oBAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;;AAE3B,uBAAO,KAAK,CAAC;aAChB,EACD,KAAK,CACR,CAAC;;AAEF,cAAE,CAAC,gBAAgB,CACf,WAAW,EACX,UAAS,CAAC,EAAE;AACR,oBAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;;AAE9B,uBAAO,KAAK,CAAC;aAChB,EACD,KAAK,CACR,CAAC;;AAEF,cAAE,CAAC,gBAAgB,CACf,MAAM,EACN,UAAS,CAAC,EAAE;;AAER,oBAAI,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,eAAe,EAAE,CAAC;;AAE3C,oBAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;;;AAG9B,uBAAO,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;;AAE9B,qBAAK,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;AAsBxB,uBAAO,KAAK,CAAC;aAChB,EACD,KAAK,CACR,CAAC;SACL;;;;;;;;;;;;KAYJ,CAAA;CACJ,CAAC,CAAC","file":"dragDropDirectives-compiled.js","sourcesContent":["// inspired by http://codepen.io/parkji/pen/JtDro\n\nvar app = angular.module('dragDrop', []);\napp.directive('draggable', function() {\n    return function(scope, element) {\n        // this gives us the native JS object\n        var el = element[0];\n\n        el.draggable = true;\n\n        el.addEventListener(\n            'dragstart',\n            function(e) {\n                e.dataTransfer.effectAllowed = 'move';\n                e.dataTransfer.setData('Text', this.id);\n                this.classList.add('drag');\n                //console.log(\"added drag\");\n                return false;\n            },\n            false\n        );\n\n        el.addEventListener(\n            'dragend',\n            function(e) {\n                this.classList.remove('drag');\n                //console.log(\"removed drag\");\n                return false;\n            },\n            false\n        );\n    }\n});\n\napp.directive('droppable', function() {\n    return {\n        scope: {\n            drop: '&',\n            moi: '@'\n        },\n        link: function(scope, element) {\n            // again we need the native object\n            var el = element[0];\n\n            el.addEventListener(\n                'dragover',\n                function(e) {\n                    e.dataTransfer.dropEffect = 'move';\n                    // allows us to drop\n                    if (e.preventDefault) e.preventDefault();\n                    this.classList.add('over');\n                    //console.log(\"added over from dragover\");\n                    return false;\n                },\n                false\n            );\n\n            el.addEventListener(\n                'dragenter',\n                function(e) {\n                    this.classList.add('over');\n                    //console.log(\"added over from dragenter\");\n                    return false;\n                },\n                false\n            );\n\n            el.addEventListener(\n                'dragleave',\n                function(e) {\n                    this.classList.remove('over');\n                    //console.log(\"removed over from dragleave\");\n                    return false;\n                },\n                false\n            );\n\n            el.addEventListener(\n                'drop',\n                function(e) {\n                    // Stops some browsers from redirecting.\n                    if (e.stopPropagation) e.stopPropagation();\n\n                    this.classList.remove('over');\n                    //console.log(\"removed over from drop\");\n\n                    console.log(\"moi\", scope.moi);\n                    //scope.drop()(\"moi\");\n                    scope.drop()(scope.moi);\n\n                    //var binId = this.id;\n                    ////var item = document.getElementById(e.dataTransfer.getData('Text'));\n                    ////this.appendChild(item);\n                    //// call the passed drop function\n                    //scope.$apply(function(scope) {\n                    //    var fn = scope.drop();\n                    //    if ('undefined' !== typeof fn) {\n                    //        fn(item.id, binId);\n                    //    }\n                    //});\n\n                    //scope.$apply(function(scope) {\n                    //    console.log(\"in $apply\");\n                    //    //scope.drop();\n                    //    var fn = scope.drop();\n                    //    //if ('undefined' !== typeof fn) {\n                    //        fn();\n                    //    //}\n                    //});\n\n                    return false;\n                },\n                false\n            );\n        }\n        //,\n        //controller : function($scope){\n        //    var exVm = this;\n        //    exVm.min = 3;\n        //    exVm.max = $scope.max;\n        //    console.log('CTRL: $scope.max = %i', $scope.max);\n        //    console.log('CTRL: exVm.min = %i', exVm.min);\n        //    console.log('CTRL: exVm.max = %i', exVm.max);\n        //},\n        //controllerAs: 'exVm',\n        //bindToController: true, //required in 1.3+ with controllerAs\n    }\n});\n\n\n"]}