{"version":3,"sources":["defaultsService.js"],"names":[],"mappings":"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","file":"defaultsService-compiled.js","sourcesContent":["\"use strict\";\n\n//defaults service\nclass C {\n    constructor($http, $log, $q, projectService, statusService, userStoryService,\n                featureService, teamMemberService, picsService,\n                statusStore, userStoryStore, featureStore, teamMemberStore,\n                userStoryActions, featureActions, teamMemberActions) {\n        this.$http = $http;\n        this.$log = $log;\n        this.$q = $q;\n\n        this.statusService = statusService;\n        this.teamMemberService = teamMemberService;\n        this.featureService = featureService;\n        this.userStoryService = userStoryService;\n        this.projectService = projectService;\n        this.picsService = picsService;\n\n        this.teamMemberActions = teamMemberActions;\n        this.featureActions = featureActions;\n        this.userStoryActions = userStoryActions;\n\n        this.setDefaultProject().then(()=> {\n            this.setCurrentProjectForUrls();\n            this.getDefaultValues();\n            this.emitProjectSet();\n        });\n\n        console.log(\"init C\", this);\n\n        // FOR TESTING & DB FIXING\n        //this.readAll();\n        //this.setProjectForMembers();\n        //this.setProjectForFeatures();\n        //this.setProjectForUserStories();\n        //this.setProjectForPictures();\n    }\n\n\n    setDefaultProject() {\n        return this.projectService.getItems().then((items)=>{\n            if(items.length > 0) {\n                this.DEFAULT_PROJECT_ID = items[0]._id;\n                //console.log(\"this.DEFAULT_PROJECT_ID\", this.DEFAULT_PROJECT_ID);\n            } else {\n                return this.projectService.addItem({name: \"My 1st Project\"}).then((newProject) => {\n                    this.DEFAULT_PROJECT_ID = newProject._id;\n                });\n            }\n        });\n    }\n\n    emitProjectSet () {\n        this.teamMemberActions.projectSet();\n        this.featureActions.projectSet();\n        this.userStoryActions.projectSet();\n    }\n\n\n    setCurrentProjectForUrls() {\n        //this.statusService.setCurrentProjectId(this.DEFAULT_PROJECT_ID);\n        this.teamMemberService.setCurrentProjectId(this.DEFAULT_PROJECT_ID);\n        this.userStoryService.setCurrentProjectId(this.DEFAULT_PROJECT_ID);\n        this.featureService.setCurrentProjectId(this.DEFAULT_PROJECT_ID);\n        //this.picsService.setCurrentProjectId(this.DEFAULT_PROJECT_ID);\n    }\n\n    getDefaultValues () {\n        this.ALL_FEATURES_NAME = \"All Features\";\n        this.ALL_MEMBERS_NAME = \"All Members\";\n        this.NOT_ASSIGNED_MEMBERS_NAME = \"Not Assigned\";\n        this.statusService.getItem(\"name\", \"not started\").then((item)=> {\n            this.NOT_STARTED_STATUS_ID = item._id;\n        });\n    }\n\n\n\n    //setupSampleProject(projectName) {\n    //   return this.addProject(projectName).then((addedProject) => {\n    //       this.setupSampleFeatures(addedProject._id);\n    //       this.setupSampleMembers(addedProject._id);\n    //   });\n    //}\n    //\n    //addProject(name) {\n    //    return this.projectService.addItem({name: name}).then((addedItem) => {\n    //        return addedItem;\n    //    });\n    //}\n\n    //setupSampleFeatures(project) {\n    //    this.featureService.addItem({name: \"Feature1\", project: project});\n    //    this.featureService.addItem({name: \"Feature2\", project: project});\n    //}\n    //setupSampleMembers(project) {\n    //    this.teamMemberService.addItem({name: \"Test Member\",\n    //        authId: project, authProvider: \"facebook\",\n    //        email: project,\n    //        currentProject: project});\n    //}\n\n\n    readAll() {\n        this.teamMemberService.getItems().then((items) => {\n            console.log(\"teamMemberService\", items);\n            this.featureService.getItems().then((items) => {\n                console.log(\"featureService\", items);\n                this.userStoryService.getItems().then((items) => {\n                    console.log(\"userStoryService\", items);\n                    this.picsService.getPicDatas().then((items) => {\n                        console.log(\"picsService\", items);\n                        this.statusService.getItems().then((items) => {\n                            console.log(\"statusService\", items);\n                        });\n                    });\n                });\n            });\n        });\n    }\n\n    setProjectForMembers() {\n        this.teamMemberService.getItems().then((items) => {\n            console.log(\"teamMemberService items\", items);\n            for (var i = 0; i < items.length; i++) {\n                //console.log(items[i]);\n                items[i].project = \"55e61a9eb63286404af60c61\";\n                this.teamMemberService.saveItem(items[i]).then((response)=> {\n                    console.log(\"setProjectForMembers\", response);\n                }, (err) => {\n                    console.log(\"setProjectForMembers err\", err);\n                });\n            }\n        }, (err) => {\n            console.log(\"setProjectForMembers getItems err\", err);\n        });\n    }\n\n    setProjectForFeatures() {\n        this.featureService.getItems().then((items) => {\n            console.log(\"featureService items\", items);\n            for (var i = 0; i < items.length; i++) {\n                //console.log(items[i]);\n                items[i].project = \"55e61a9eb63286404af60c61\";\n                this.featureService.saveItem(items[i]);\n            }\n        });\n    }\n\n    setProjectForUserStories() {\n        this.userStoryService.getItems().then((items) => {\n            console.log(\"userStoryService items\", items);\n            for (var i = 0; i < items.length; i++) {\n                //console.log(items[i]);\n                items[i].project = \"55e87e9bb793347fd0da84ff\";\n                this.userStoryService.saveItem(items[i]).then((response)=> {\n                    console.log(\"setProjectForUserStories\", response);\n                }, (err) => {\n                    console.log(\"setProjectForUserStories err\", err);\n                });\n            }\n        });\n    }\n\n    setProjectForPictures() {\n        this.picsService.getPicDatas().then((items) => {\n            console.log(\"picsService items\", items);\n            for (var i = 0; i < items.length; i++) {\n                //console.log(items[i]);\n                items[i].project = \"55e61a9eb63286404af60c61\";\n                this.picsService.savePic(items[i]);\n            }\n        });\n    }\n\n}\n\nangular.module(\"defaults\", []);\nangular.module(\"defaults\").service(\"C\", C);\n"]}