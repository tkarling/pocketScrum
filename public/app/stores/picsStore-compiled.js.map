{"version":3,"sources":["picsStore.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;AAEb,IAAI,OAAO,GAAG,SAAS,CAAC;AACxB,IAAI,UAAU,GAAG,YAAY,CAAC;;AAE9B,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,aAAa,EAAE,UAAU,UAAU,EAAE;AACjE,QAAI,CAAC,MAAM,GAAG,UAAS,IAAI,EAAE;AACzB,kBAAU,CAAC,IAAI,CAAC;AACZ,sBAAU,EAAE,OAAO;AACnB,gBAAI,EAAE,IAAI;SACb,CAAC,CAAC;KACN,CAAC;;AAEF,QAAI,CAAC,SAAS,GAAG,UAAS,IAAI,EAAE;AAC5B,kBAAU,CAAC,IAAI,CAAC;AACZ,sBAAU,EAAE,UAAU;AACtB,gBAAI,EAAE,IAAI;SACb,CAAC,CAAC;KACN,CAAC;CACL,CAAC,CAAC;;IAEG,SAAS;cAAT,SAAS;;AACA,aADT,SAAS,GACG;8BADZ,SAAS;;AAEP,mCAFF,SAAS,6CAEC;AACR,YAAI,CAAC,IAAI,GAAG,EAAE,CAAC;KAClB;;iBAJC,SAAS;;eAMJ,mBAAG;AACN,mBAAO,IAAI,CAAC,IAAI,CAAC;SACpB;;;eAEK,gBAAC,GAAG,EAAE;AACR,gBAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAC,CAAC,CAAC;SACtC;;;eAEQ,mBAAC,GAAG,EAAE;AACX,gBAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AACnC,gBAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAC9B;;;eAES,sBAAG;AACT,gBAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACvB;;;WArBC,SAAS;GAAS,YAAY;;AAwBpC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,UAAU,UAAU,EAAE;AAC/D,QAAI,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;;AAEhC,cAAU,CAAC,WAAW,CAAC,UAAU,MAAM,EAAE;AACrC,gBAAO,MAAM,CAAC,UAAU;AACpB,iBAAK,OAAO;AACR,yBAAS,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC9B,yBAAS,CAAC,UAAU,EAAE,CAAC;AACvB,sBAAM;;AAAA,AAEV,iBAAK,UAAU;AACX,yBAAS,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACjC,yBAAS,CAAC,UAAU,EAAE,CAAC;AACvB,sBAAM;AAAA,SACb;KAEJ,CAAC,CAAC;;;AAGH,QAAI,CAAC,WAAW,GAAG,UAAS,CAAC,EAAE;AACvB,iBAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;KAChC,CAAC;;AAEF,QAAI,CAAC,OAAO,GAAG,YAAW;AAClB,eAAO,SAAS,CAAC,OAAO,EAAE,CAAC;KAClC,CAAC;CACL,CAAC,CAAC","file":"picsStore-compiled.js","sourcesContent":["\"use strict\";\n\nvar ADD_PIC = \"ADD_PIC\";\nvar REMOVE_PIC = \"REMOVE_PIC\";\n\nangular.module(\"myApp\").service(\"picsActions\", function (dispatcher) {\n    this.addPic = function(item) {\n        dispatcher.emit({\n            actionType: ADD_PIC,\n            item: item\n        });\n    };\n\n    this.removePic = function(item) {\n        dispatcher.emit({\n            actionType: REMOVE_PIC,\n            item: item\n        });\n    };\n});\n\nclass PicsStore extends EventEmitter {\n    constructor() {\n        super();\n        this.pics = [];\n    }\n\n    getPics() {\n        return this.pics;\n    }\n\n    addPic(pic) {\n        this.pics.push({qty: 1, pic: pic});\n    }\n\n    removePic(pic) {\n        var index = this.pics.indexOf(pic);\n        this.pics.splice(index, 1);\n    }\n\n    emitChange() {\n        this.emit(\"change\");\n    }\n}\n\nangular.module(\"myApp\").service(\"picsStore\", function (dispatcher) {\n    var picsStore = new PicsStore();\n\n    dispatcher.addListener(function (action) {\n        switch(action.actionType){\n            case ADD_PIC:\n                picsStore.addPic(action.item);\n                picsStore.emitChange();\n                break;\n\n            case REMOVE_PIC:\n                picsStore.removePic(action.item);\n                picsStore.emitChange();\n                break;\n        }\n\n    });\n\n    //expose only the public interface\n    this.addListener = function(l) {\n            picsStore.addListener(l);\n    };\n\n    this.getPics = function() {\n            return picsStore.getPics();\n    };\n});\n"]}