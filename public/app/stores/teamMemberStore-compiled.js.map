{"version":3,"sources":["teamMemberStore.js"],"names":[],"mappings":"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","file":"teamMemberStore-compiled.js","sourcesContent":["\"use strict\";\n\nvar ADD_TEAM_MEMBER = \"ADD_TEAM_MEMBER\";\nvar REMOVE_TEAM_MEMBER = \"REMOVE_TEAM_MEMBER\";\nvar SAVE_TEAM_MEMBER = \"SAVE_TEAM_MEMBER\";\n\nclass teamMemberActions {\n    constructor(dispatcher) {\n        this.dispatcher = dispatcher;\n    }\n\n    addTeamMember(item) {\n        this.dispatcher.emit({\n            actionType: ADD_TEAM_MEMBER,\n            item: item\n        });\n    }\n\n    removeTeamMember(item) {\n        this.dispatcher.emit({\n            actionType: REMOVE_TEAM_MEMBER,\n            item: item\n        });\n    }\n\n    saveTeamMember(item) {\n        this.dispatcher.emit({\n            actionType: SAVE_TEAM_MEMBER,\n            item: item\n        });\n    }\n}\nangular.module(\"myApp\").service(\"teamMemberActions\", teamMemberActions);\n\n\nclass TeamMemberStore extends EventEmitter {\n    constructor(teamMemberService) {\n        super();\n        this.teamMemberService = teamMemberService;\n\n        this.teamMembers = [];\n        this.errorMsg = \"\";\n\n        this.emitChange();\n    }\n\n    getTeamMembers() {\n        return this.teamMembers;\n    }\n\n    getErrorMsg() {\n        return this.errorMsg;\n    }\n\n    addTeamMember(teamMember) {\n        var self = this;\n        this.errorMsg = \"\";\n        return this.teamMemberService.addItem(teamMember)\n            .then(function (response) {\n            }, function (error) {\n                if (error.teamMember > 0) {\n                    console.log(\"addTeamMember error\", error);\n                    self.errorMsg = error.teamMember + ': ' + error.teamMemberText;\n                }\n            });\n    }\n\n    removeTeamMember(teamMember) {\n        this.errorMsg = \"\";\n        return this.teamMemberService.removeItem(teamMember);\n    }\n\n    saveTeamMember(teamMember) {\n        this.errorMsg = \"\";\n        return this.teamMemberService.saveItem(teamMember);\n    }\n\n    emitChange() {\n        var self = this;\n        this.teamMemberService.getItems().then(function (teamMembers) {\n            self.teamMembers = teamMembers;\n            self.emit(\"change\");\n        });\n    }\n\n}\n\nangular.module(\"myApp\").service(\"teamMemberStore\", function (dispatcher, teamMemberService) {\n    var teamMemberStore = new TeamMemberStore(teamMemberService);\n\n    dispatcher.addListener(function (action) {\n        switch (action.actionType) {\n            case ADD_TEAM_MEMBER:\n                teamMemberStore.addTeamMember(action.item).then(function (response) {\n                    teamMemberStore.emitChange();\n                });\n                break;\n\n            case REMOVE_TEAM_MEMBER:\n                teamMemberStore.removeTeamMember(action.item).then(function (response) {\n                    teamMemberStore.emitChange();\n                });\n                break;\n\n            case SAVE_TEAM_MEMBER:\n                teamMemberStore.saveTeamMember(action.item).then(function (response) {\n                    teamMemberStore.emitChange();\n                });\n                break;\n\n        }\n\n\n    });\n\n    //expose only the public interface\n    this.addListener = function (l) {\n        teamMemberStore.addListener(l);\n    };\n\n    this.getTeamMembers = function () {\n        return teamMemberStore.getTeamMembers();\n    };\n\n    this.getErrorMsg = function () {\n        return teamMemberStore.getErrorMsg();\n    };\n});\n\n\n"]}